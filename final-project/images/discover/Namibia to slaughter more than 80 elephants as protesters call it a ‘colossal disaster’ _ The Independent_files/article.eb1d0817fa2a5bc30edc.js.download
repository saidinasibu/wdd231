(()=>{var e={212:(e,t,n)=>{var o=n(15428),i=/^\s+/;e.exports=function(e){return e?e.slice(0,o(e)+1).replace(i,""):e}},5353:(e,t,n)=>{var o=n(9185),i=n(73224),r=n(12746),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,l,d,u,m,p,f=0,h=!1,b=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function w(t){var n=c,o=l;return c=l=void 0,f=t,u=e.apply(o,n)}function v(e){var n=e-p;return void 0===p||n>=t||n<0||b&&e-f>=d}function y(){var e=i();if(v(e))return S(e);m=setTimeout(y,function(e){var n=t-(e-p);return b?s(n,d-(e-f)):n}(e))}function S(e){return m=void 0,g&&c?w(e):(c=l=void 0,u)}function E(){var e=i(),n=v(e);if(c=arguments,l=this,p=e,n){if(void 0===m)return function(e){return f=e,m=setTimeout(y,t),h?w(e):u}(p);if(b)return clearTimeout(m),m=setTimeout(y,t),w(p)}return void 0===m&&(m=setTimeout(y,t)),u}return t=r(t)||0,o(n)&&(h=!!n.leading,d=(b="maxWait"in n)?a(r(n.maxWait)||0,t):d,g="trailing"in n?!!n.trailing:g),E.cancel=function(){void 0!==m&&clearTimeout(m),f=0,c=p=l=m=void 0},E.flush=function(){return void 0===m?u:S(i())},E}},9185:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},12746:(e,t,n)=>{var o=n(212),i=n(9185),r=n(68110),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=o(e);var n=s.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},15428:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},22750:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},27335:(e,t,n)=>{var o=n(50613),i=Object.prototype,r=i.hasOwnProperty,a=i.toString,s=o?o.toStringTag:void 0;e.exports=function(e){var t=r.call(e,s),n=e[s];try{e[s]=void 0;var o=!0}catch(e){}var i=a.call(e);return o&&(t?e[s]=n:delete e[s]),i}},38036:(e,t,n)=>{var o=n(50613),i=n(27335),r=n(44082),a=o?o.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):r(e)}},42273:(e,t,n)=>{var o=n(88716),i="object"==typeof self&&self&&self.Object===Object&&self,r=o||i||Function("return this")();e.exports=r},44082:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},50613:(e,t,n)=>{var o=n(42273).Symbol;e.exports=o},68110:(e,t,n)=>{var o=n(38036),i=n(22750);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==o(e)}},73224:(e,t,n)=>{var o=n(42273);e.exports=function(){return o.Date.now()}},79378:(e,t,n)=>{var o=n(5353),i=n(9185);e.exports=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),o(e,t,{leading:r,maxWait:t,trailing:a})}},88716:(e,t,n)=>{var o="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=o}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,n||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}function o(e,n,o){return(n=t(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}const i="independentespanol.com",r="home improvement",a="deals",s="best",c="climate",l="lifeStyle",d="money",u="news",m="premium",p="sport",f="voices",h="travel",b="games",g="topic",w="crime",v="f1",y="beauty",S="wine",E="fitness and wellbeing",x="Electric Vehicles",j="cars",_="christmas",k="arts",O="competitions",$="health and wellbeing",C="space",P="tech",T="RSS",I="bulletin",L="culture",D="service",M="us",R="us travel",B="asia",A="lgbt",N="world",F="happylist",G="/home-improvement",J="/extras/indybest",U="/travel",q="/games",z="/wine",H="/bulletin",W={[r]:G,[a]:"/deals",[s]:J,[c]:"/climate-change",[l]:"/life-style",[d]:"/money",[u]:"/news",[m]:"/independentpremium",[p]:"/sport",[f]:"/voices",[h]:U,[b]:q,[g]:"/topic",[w]:"/news/uk/crime",[v]:"/f1",[y]:"/beauty",[S]:z,[E]:"/health-and-fitness",[x]:"/cars/electric-vehicles",[j]:"/cars",[_]:"/christmas",[k]:"/arts-entertainment/",[O]:"/competitions",[$]:"/health-and-wellbeing",[C]:"/space",[P]:"/tech",[T]:"/",[I]:H,[L]:"/arts-entertainment",[D]:"/service",[M]:"/us",[R]:"/us/travel",[B]:"/asia",[A]:"/lgbt",[N]:"/world",[F]:"/happylist"},V="js-comment",Q="js-comment-count",Y="notification-prompt",K="notification-prompt--show",Z="notification-prompt__deny",X="promptDeniedExpiryDate",ee=()=>{var e;null===(e=document.querySelector(`.${Y}`))||void 0===e||null===(e=e.classList)||void 0===e||e.remove(K)},te=()=>{var e;null===(e=window.braze)||void 0===e||e.openSession(),Notification.requestPermission(),ee()},ne=()=>{(e=>{localStorage.setItem(X,e)})((Date.now()+2592e6).toString())},oe=()=>{var e;const t=null!==(e=(()=>{const e=localStorage.getItem(X);return e?JSON.parse(e):null})())&&void 0!==e?e:0;return Date.now()>t},ie=()=>{if(!document.querySelector(`.${Y}`))return!1;var e,t;return!(e=>"video"===e)(null!==(e=null===(t=window.JSGlobals)||void 0===t||null===(t=t.article)||void 0===t?void 0:t.heroType)&&void 0!==e?e:"")||window.matchMedia("(min-width: 1000px)").matches},re=()=>{var e;return!(null===(e=window.JSGlobals)||void 0===e||!e.isBulletin)},ae="esi_puid",se="indy",ce=`${se}:spError`,le=["Registration is a free and easy way to support our truly independent journalism"];const de=(e,t=null)=>{var n,o;const i=`; ${document.cookie}`.split(`; ${e}=`);return 2===i.length?decodeURIComponent(null!==(n=null===(o=i.pop())||void 0===o?void 0:o.split(";").shift())&&void 0!==n?n:""):t};let ue,me;const pe=()=>{if("undefined"==typeof window)return"prod"!=={NODE_ENV:"production",npm_config_domain:""}.SERVER;if("undefined"!=typeof window&&void 0===ue){var e;const t=new URLSearchParams(null===(e=window)||void 0===e||null===(e=e.location)||void 0===e?void 0:e.search);ue=t.has("__DEBUG__")}return ue||"true"===de("__DEBUG__")},fe=()=>{var e;return void 0===me&&(me=!0===(null===(e=window.JSGlobals)||void 0===e||null===(e=e.featureFlags)||void 0===e?void 0:e.feat__sentry)),me},he=(...e)=>{pe()&&console.group(...e)},be=(...e)=>{pe()&&console.groupEnd(...e)},ge=(...e)=>{pe()&&console.log(...e)},we=(...e)=>{var t;const n=pe(),o=fe();n&&console.error(...e),o&&(null===(t=window.Sentry)||void 0===t||t.captureException(...e))},ve=async(e,t)=>new Promise((n=>{var o;null!==(o=JSGlobals)&&void 0!==o&&null!==(o=o.cmp)&&void 0!==o&&o.enabled?window.__tcfapi&&new Promise((e=>{JSGlobals.cmp.enabled?(document.getElementById("sp-script").error&&e(!1),window.addEventListener(ce,(()=>{e(!1)})),window.__tcfapi("addEventListener",2,((t,n)=>{var o;if(n)if(["useractioncomplete","tcloaded"].includes(t.eventStatus))if(window.__tcfapi("removeEventListener",2,(()=>{}),t.listenerId),t.gdprApplies){if(ge("Consent Or Pay: valid GDPR tcData ---\x3e",t),null!==(o=t.publisher)&&void 0!==o&&null!==(o=o.consents)&&void 0!==o&&o[1])return ge('Consent Or Pay: tcData.publisher?.consents?.["1"] ---\x3e',t),void e(!0);e(!1)}else e(!0);else ge("Consent Or Pay: !['useractioncomplete', 'tcloaded'].includes(tcData.eventStatus) ---\x3e",{tcData:t,eventStatus:t.eventStatus})}))):e(!0)})).then((o=>{o?window.__tcfapi("getCustomVendorConsents",2,(o=>{var i;const r=!(null===(i=o.grants)||void 0===i||null===(i=i[e])||void 0===i||!i.vendorGrant);ge("CMP:getCustomVendorConsents",t,r),n(r)})):n(!1)})):n(!0)})),ye=(e,{async:t=!0,defer:n=document.location.search.includes("___FORCE_DEFER___"),parent:o=document.body,attributes:i}={})=>{window.JSGlobals=window.JSGlobals||{};const r=window.JSGlobals.loadedJS=[];return new Promise(((a,s)=>{const c=(e instanceof Array?e:[e]).map((e=>r.includes(e)?Promise.resolve():new Promise(((a,s)=>{const c=((e,{id:t,async:n,defer:o,ok:i,error:r,attributes:a})=>{const s=document.createElement("script");return s.onload=i,s.onerror=r,t&&"undefined"!==t&&(s.id=t),n&&!o&&s.setAttribute("async",""),o&&s.setAttribute("defer",""),a&&a.forEach((([e,t])=>{s.setAttribute(e,t)})),s.src=e,s})(e,{async:t,defer:n,ok:a,error:s,attributes:i});o.appendChild(c),r.push(e)}))));return Promise.all(c).then(a,s)}))};function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}const Ee=()=>{const e=de(ae);var t;e&&(null===(t=window.braze)||void 0===t||t.changeUser(e))},xe=async()=>{if(!!window.braze)return Ee(),!0;try{var e;if(!await ve("5ed8c49c4b8ce4571c7ad801","braze"))return!1;const{braze:{sdkAPIKey:t="",sdkEndpoint:n=""}={}}=window.JSGlobals;return await ye(["https://js.appboycdn.com/web-sdk/4.8/braze.min.js"]),null===(e=window.braze)||void 0===e||e.initialize(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({baseUrl:n,manageServiceWorkerExternally:!0,requireExplicitInAppMessageDismissal:!0,minimumIntervalBetweenTriggerActionsInSeconds:0},!1)),Ee(),(()=>{const e=document.querySelector(".notification-prompt__accept"),t=document.querySelector(`.${Z}`);null==e||e.addEventListener("click",te),null==t||t.addEventListener("click",(()=>ee()))})(),document.dispatchEvent(new CustomEvent("brazeLoaded")),!0}catch(e){return we("Error initializing braze sdk",e),!1}},je=async()=>{await xe()&&!(()=>{var e;const t="true"===sessionStorage.getItem("promptDenied"),n=oe();return!(null!==(e=window.braze)&&void 0!==e&&e.isPushSupported())||window.braze.isPushPermissionGranted()||window.braze.isPushBlocked()||t||!n})()&&((()=>{var e;const t=document.querySelector(`.${Y}`);null==t||null===(e=t.classList)||void 0===e||e.add(K)})(),(()=>{const e=document.querySelector(`.${Z}`);null==e||e.addEventListener("click",(()=>{sessionStorage.setItem("promptDenied","true"),ne()}))})())},_e=()=>{const{brazeSdkDelayAmount:e=5e3}=window.JSGlobals.braze||{};setTimeout(je,e)},ke=(e,t=null)=>{const n=`; ${document.cookie}`.split(`; ${e}=`);return 2===n.length?decodeURIComponent(n.pop().split(";").shift()):t};function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ce=(e,t={})=>(((e,t={})=>{const n=JSON.stringify(t,null,2),o=n.split("\n").reduce(((e,t)=>t.length>=e?t.length:e),0),i=e.length,r=Math.max(i,o),a=`  ${e.padEnd(r)}  `,s=n.split("\n").map((e=>`  ${e.padEnd(r)}  `)),c=s.length>1?`%c${s.slice(0,1)}\n%c${s.slice(1,-1).join("\n")}\n%c${s.slice(-1)}\n`:`%c${s[0]}\n`,l=s.length>1?["font-family:monospace; background: #333; color: #eee; padding-top: 5px;","font-family:monospace; background: #333; color: #eee;","font-family:monospace; background: #333; color: #eee; padding-bottom: 10px; border-radius: 0 0 6px 6px"]:["font-family:monospace; background: #333; color: #eee; padding-top: 5px; padding-bottom: 10px; border-radius: 0 0 6px 6px"];console.log(`%c${a}\n${c}`,"font-family:monospace; background: #333; color: #eee; border-bottom: 1px solid #666; padding: 5px 0; border-radius: 6px 6px 0 0",...l)})(`CustomEvent: ${e}`,t),new CustomEvent("analytics-trigger",{detail:{data:$e({},t),eventName:e}})),Pe=(e,t)=>{return n=Ce(e,t),void document.body.dispatchEvent(n);var n},Te=(e={})=>Pe("load_more_comments",e);const Ie=(e,t)=>{const n=document.getElementById("loginButton"),o=document.getElementById("registerLink");o&&o.setAttribute("href",function(e,t){if(!e&&!t)return"/register";const n=new URLSearchParams;return e&&n.append("regSourceMethod",e),t&&n.append("regSourceSection",t),`/register?${n.toString()}`}(e,t)),localStorage.setItem("returnUrl",window.location.href),localStorage.setItem("regSourceMethod",e),localStorage.setItem("regSourceSection",t),n&&n.click()};let Le=0;const De=e=>{Le++,ge(`Commenting: Reauthenticating, attempt ${Le}`),window.vf.session.logout().then(window.vf.session.login.cookie(de(ae)||"")).then((()=>{e&&setTimeout(e,500)}))},Me=(e,t)=>{(async(e,t)=>{const n=new FormData;return Object.keys(t).forEach((e=>{n.append(e,t[e])})),await fetch(e,{method:"POST",mode:"same-origin",cache:"no-cache",credentials:"same-origin",body:n})})(`/internal-api/comments/nickname/submit?__amp_source_origin=${window.location.origin}`,{nickname:e}).then((e=>{if(200!==e.status)return e.json().then((({message:e})=>{t({success:!1,errorMessage:e})}));t({success:!0})})).catch((e=>{t({success:!1,errorMessage:e.message})}))},Re=()=>{const[e]=document.getElementsByClassName("vf-post-form"),t=e.firstElementChild;t instanceof HTMLDivElement&&(t.style.display="none");const n=(e=>{const t=document.createElement("div"),n=document.createElement("h2"),o=document.createElement("p"),i=document.createElement("div"),r=document.createElement("input"),a=document.createElement("button");return t.id="add-nickname-form",n.innerHTML="We have noticed you don't have a commenting name yet.",o.innerHTML="Your commenting name is what people will see when you make any comments across Independent articles. Please don't use anything rude or anything that could identify you.",r.setAttribute("placeholder","Commenting name"),r.setAttribute("pattern","^[A-Za-z0-9]{3,40}$"),r.required=!0,a.innerHTML="SUBMIT",a.disabled=!0,t.appendChild(n),t.appendChild(o),t.appendChild(i),i.appendChild(r),i.appendChild(a),a.addEventListener("click",(({target:t})=>{if(t instanceof HTMLInputElement&&t.disabled)return!1;e(r.value.trim())})),r.addEventListener("keypress",(e=>{var t;(t=e.key.charCodeAt(0))>64&&t<91||t>96&&t<123||8===t||t>=48&&t<=57||e.preventDefault()})),r.addEventListener("input",(e=>{a.disabled=e.target instanceof HTMLInputElement&&!e.target.checkValidity()})),t})((o=>{Me(o,(({success:o,errorMessage:i})=>{o?(e.removeChild(n),t instanceof HTMLDivElement&&(t.style.display="block"),De()):alert(i)}))}));e.appendChild(n)},Be=()=>{window.vf.context.get("user").then((e=>{e&&("guest"===e.user_privilege||de(ae)!==e.social_login_id?De((()=>{Le<10&&Be()})):"anonymous"===e.name.toLowerCase()&&(ge("Commenting: User has not set nickname, initialising nickname form"),Re()))}))},Ae=()=>{var e;null===(e=document.getElementById("comments"))||void 0===e||e.addEventListener("click",(({target:e})=>{var t;e instanceof HTMLElement&&(e.className.split(" ").some((e=>e.startsWith("vf-content-actions__like")||e.startsWith("vf-content-actions__dislike")))?((e={})=>{Pe("vote_comment_click",e)})({}):["Flag","Flagged"].includes(null===(t=e.innerText)||void 0===t?void 0:t.trim())?((e={})=>{Pe("flag_comment_click",e)})({}):e.closest(".vf-load-more__button")&&Te())}))},Ne=()=>de("loggedIn"),Fe=e=>{[...document.getElementsByClassName(V)].forEach((t=>{if(t instanceof HTMLElement){const n=t.querySelector(`.${Q}`);t.dataset.count=e.toString()||"0",n&&(n.innerHTML=e.toString()||"")}}))},Ge=()=>{Ae(),window.vf.$prepublish(((e,t,...n)=>{if(console.log(`Commenting: channel = ${e}; event = ${t};`),"commenting"===e&&"loaded"===t){try{(()=>{const e=document.getElementById("comments");if(((null==e?void 0:e.offsetHeight)||0)>600){null==e||e.classList.add("height-limited");const t=document.createElement("button");t.className="show-more",t.innerHTML="See more comments",null==e||e.appendChild(t);const n=()=>{null==e||e.removeChild(t),null==e||e.classList.remove("height-limited"),null==e||e.removeEventListener("click",n),Te()};null==e||e.addEventListener("click",n)}})()}catch(e){we("Commenting: Error in initViafora()->limitCommentingHeight()",e)}try{[...document.getElementsByClassName(V)].forEach((e=>{if(e instanceof HTMLElement){const t=e.querySelector(`.${Q}`),n=e.querySelector(".js-comment-plural"),o=parseInt(e.dataset.count||"");t&&n&&(t.innerHTML=o>0?o.toString():'<span class="comments-empty"></span>',n.innerHTML=1===o?"Comment":"Comments")}}))}catch(e){we("Commenting: Error in initViafora()->changeCTA()",e)}Ne()?Be():window.vf.context.get("user").then((e=>{var t;0!==e.id&&(null===(t=window.viafoura)||void 0===t||t.session.logout())}))}if("comment"===e&&"created"===t&&((e={})=>{Pe("comment",e)})({}),"authentication"===e&&"required"===t){var o,i;const[e]=null!==(o=window.JSGlobals.sections)&&void 0!==o?o:[];return Ie("Commenting",null!==(i=e.sourcePath)&&void 0!==i?i:""),!1}return{channel:e,event:t,args:n}})),window.vf.$subscribe("authentication","logout",(()=>{var e;e="/user/logout",location.href=e}))},Je=()=>!!document.getElementById("comments"),Ue=async()=>{if(!de(ae)&&Ne()){const e=await fetch("/api/puid"),t=await e.json();((e,t,n)=>{const o=new Date;if(n){const e=n.days?24*n.days*60*60*1e3:60*n.hours*60*1e3;o.setTime(o.getTime()+e)}const i=[];i.push(`${e}=${encodeURIComponent(t)}`),i.push("path=/"),i.push("secure"),n&&i.push(`expires=${o.toGMTString()}`),document.cookie=i.join(";")})(ae,t.uid,{days:365})}},qe=async()=>{Je&&((async()=>{var e;const{endpoint:t,section_uuid:n}=window.JSGlobals.viafoura||{},o=(null===(e=window.digitalData.article_original_source_id)||void 0===e?void 0:e.replace("b",""))||window.digitalData.article_id_root,i={method:"POST",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify([o])};try{var r;const e=await fetch(`${t}/v4/livecomments/${n}/content-containers/comment-count-and-status/by-container-ids`,i);return(null===(r=(await e.json())[0])||void 0===r?void 0:r.commentCount)||0}catch(e){console.error(e)}return 0})().then(Fe),await Ue(),window.vfQ=window.vfQ||[],window.vfQ.push(Ge),ye("//cdn.viafoura.net/entry/index.js"))},ze=async()=>{document.getElementsByClassName("fb-post").length>0&&await ye("https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v11.0")},He=()=>{var e;const{url:t}=(null===(e=window.JSGlobals)||void 0===e?void 0:e.heyFlow)||{};t?t&&ye(t):console.error("No heyFlow URL is found",{cause:window.JSGlobals?"heyFlow object is missing or does not contain a URL":"JSGlobals is undefined"})},We=async()=>{document.getElementsByClassName("instagram-media").length>0&&await ye("https://www.instagram.com/embed.js")},Ve=()=>{const e=document.querySelectorAll("[data-parallax]");e.length&&window.addEventListener("scroll",(function(){e.forEach((e=>{var t;const n=e.getBoundingClientRect().top;if(!n||n>window.innerHeight)return;const o=null!==(t=e.dataset.parallax)&&void 0!==t?t:"",i=(e=>{const t=window.innerHeight;let n=0;for(let t=e;t;t=t.offsetParent)n+=t.offsetTop;return n<t?n:t})(e),r=(i-n)*-(parseFloat(o)-1);e.style.transform=`translateY(${r.toFixed(0)}px)`}))}))};var Qe=n(5353);var Ye=n(79378);function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe=Object.defineProperty,et=(e,t)=>Xe(e,"name",{value:t,configurable:!0});function tt(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}et(tt,"upperFirst");const nt=et(((e,t)=>{throw new Error(`Value for ${e} must be greater or equal to ${t}`)}),"handleError");function ot(e){return e<1&&nt("minWidth",1),`(min-width: ${e}px)`}function it(e){return e<2&&nt("maxWidth",2),`(max-width: ${e-1}px)`}function rt(e){return Object.entries(e).sort((([,e],[,t])=>e>t?1:-1))}function at(e){return rt(e).reduce(((e,[t,n],o,i)=>{const r=i[o+1],a=ot(n),s=r&&it(r[1]),c=it(n);if(r&&n===r[1])throw new Error(`Duplicate width value of ${n} detected for ${t} and ${r[0]}`);return e=Ze(Ze({},e),{},{[t]:a,[`max${tt(t)}`]:c,[`only${tt(t)}`]:r?`${a} and ${s}`:a})}),{})}et(ot,"minWidth"),et(it,"maxWidth"),et(rt,"sortSizesAscending"),et(at,"generateMediaQueryRules");const st=at({mobile:360,tablet:768,laptop:1e3,desktop:1250}),{mobile:ct,maxMobile:lt,onlyMobile:dt,tablet:ut,maxTablet:mt,onlyTablet:pt,laptop:ft,maxLaptop:ht,onlyLaptop:bt,desktop:gt,maxDesktop:wt,onlyDesktop:vt}=st;Symbol.toStringTag;let yt=!1;const St=async()=>{window.matchMedia(ft).matches&&!yt&&(await ye(["//cdn.mediavoice.com/nativeads/script/esi/esi-rr-collection.js"]),yt=!0)},Et=async()=>{document.getElementsByClassName("reddit-embed-bq").length>0&&await ye("https://embed.reddit.com/widgets.js")},xt="taboola-mid-article-thumbnails",jt="taboola-mid-article-thumbnails-us-premium",_t="homepage",kt="category",Ot=[{mode:"thumbnails-d1",container:"taboola-below-article-1",placement:"Below Article Thumbnails",target_type:"mix"},{mode:"alternating-thumbnails-d1",container:"taboola-carousel-thumbnails",placement:"Mid Article Thumbnails",target_type:"mix"},{mode:"thumbnails-k1",container:"taboola-right-rail",placement:"Right Rail Thumbnails",target_type:"mix"},{mode:"organic-thumbs-feed-01",container:"taboola-below-indy-best-feed",placement:"Below Indy Best Feed",target_type:"mix"},{mode:"rbox-tracking",container:"taboola-newsroom",placement:"Newsroom"},{mode:"thumbs-feed-hero-1sc-6sc-esi-inde",container:"taboola-ms-hero",placement:"MS Hero",target_type:"mix"},{mode:"thumbnails-mid-a",container:"taboola-mid-article-thumbnails-live-blogs",placement:"Mid Article Thumbnails Live Blogs",target_type:"mix"},{mode:"thumbnails-stream-1x4-a_sc",container:"taboola-mid-article-thumbnails-crime",placement:"Mid Article Thumbnails Crime",target_type:"mix"},{mode:"thumbnails-a-sc",container:"taboola-below-article-thumbnails-crime",placement:"Below Article Thumbnails Crime",target_type:"mix"},{mode:"thumbnails-rr-sc",container:"taboola-right-rail-thumbnails-crime",placement:"Right Rail Thumbnails Crime",target_type:"mix"}],$t=[{mode:"thumbs-feed-01",container:"taboola-below-section-front-feed",placement:"Below Section Front Feed",target_type:"mix"},{mode:"thumbs-feed-01",container:"taboola-mobile-below-section-front-feed",placement:"Mobile Below Section Front Feed",target_type:"mix"}],Ct=[{mode:"alternating-thumbnails-stream-1x4",container:`${xt}-ii`,placement:"Mid Article Thumbnails II",target_type:"mix"},{mode:"alternating-thumbnails-stream-1x4-a",container:`${xt}-iii`,placement:"Mid Article Thumbnails III",target_type:"mix"},{mode:"alternating-thumbnails-stream-1x4",container:`${jt}-ii`,placement:"Mid Article Thumbnails Premium Articles",target_type:"mix"},{mode:"alternating-thumbnails-stream-1x4-a",container:`${jt}-iii`,placement:"Mid Article Thumbnails Premium Articles II",target_type:"mix"}],Pt=[{mode:"thumbnails-mid-b",container:"taboola-bulletin-mid-article-thumbnails",placement:"Bulletin Mid Article Thumbnails",target_type:"mix"}],Tt=()=>{const{host:e,pathname:t}=window.location;return`//${e}${t}`},It=()=>{window._taboola=window._taboola||[];const{article:e,section:t,sectionName:n}=window.JSGlobals,o=!!e,i=!!t,r=[],{sectionUnits:a=[],pageType:s}=window.JSGlobals.taboola||{};if(e&&s){window._taboola.push({[s]:"auto",url:Tt()});const t=document.getElementById("stickyFooterContainer");window._taboola.push({listenTo:"visible",handler:e=>{e.detail.placement.includes("Below Article Thumbnails | Card 19")&&t&&(t.style.display="none")}}),(e=>{var t;const{user_status:n,uid:o}=window.digitalData;var i;window._taboola.push({unified_id:o,user_type:(i=n,{premium:"subscriber",registered:"registered",anonymous:"guest"}[i]||"other"),paywall:null!==(t=e.premium)&&void 0!==t&&t&&"premium"!==n})})(e),e.premium&&window._taboola.push({premium:!0})}if(i){const e="News"===n?_t:kt;window._taboola.push({[e]:"auto"}),a.forEach((t=>{delete t.category,(e===_t&&t.pageType===_t||e===kt&&t.pageType===kt)&&r.push(t)})),r.push(...$t)}o&&(r.push(...Ct),r.push(...Ot),re()&&(r.push(...Pt),window._taboola.push({photo:"auto"}))),r.forEach((e=>(e=>{if(e.container){const t=document.getElementById(e.container);t&&"none"!==window.getComputedStyle(t).getPropertyValue("display")&&window._taboola.push(e)}})(e))),window._taboola.push({flush:!0})},Lt=async()=>{var e,t;const n=(()=>{var e;const{publisherId:t,publisherIdIndyBest:n}=window.JSGlobals.taboola||{};return null!==(e=window.location.pathname)&&void 0!==e&&e.includes("indybest")?n:t})();await ye([`//cdn.taboola.com/libtrc/${n}/loader.js`]),null===(e=window)||void 0===e||null===(e=e.performance)||void 0===e||null===(t=e.mark)||void 0===t||t.call(e,"tbl_ic")};const Dt=async()=>{document.getElementsByClassName("tiktok-media").length>0&&await ye("https://www.tiktok.com/embed.js")},Mt="https://clicks.trx-hub.com/xid/esimedia_t58ukgmjkf95_theindependent",Rt="social",Bt="search",At="independent",Nt={[Bt]:[/google\.com$/i,/bing\.com$/i,/yahoo\.com$/i,/baidu\.com$/i,/yandex\.com$/i,/duckduckgo\.com$/i,/ask\.com$/i,/ecosia\.org$/i,/aol\.(com|co\.uk)$/i,/archive\.org$/i,/brave\.com$/i,/petal_search$/i],[Rt]:[/pinterest\.com$/i,/instagram\.com$/i,/facebook\.com$/i,/tiktok\.com$/i,/twitter\.com$/i],[At]:[/independent/i]},Ft=()=>{document.getElementsByClassName("twitter-post").length>0&&(window.twttr=function(e,t,n){let o,i=e.getElementsByTagName(t)[0],r=window.twttr||{};return e.getElementById(n)||(o=e.createElement(t),o.id=n,o.src="https://platform.twitter.com/widgets.js",i.parentNode.insertBefore(o,i),r._e=[],r.ready=function(e){r._e.push(e)}),r}(document,"script","twitter-wjs"))},Gt=(e,t)=>{if(!e.get("q")&&!t.url)throw new Error("The url is required but was not provided");const{url:n,articleUrl:o,articleId:i,author:r,tags:a,section:s,category:c,subCategory:l,updatedDateTime:d,productName:u,campaign:m,position:p,term:f,locationUserAgent:h,locationReferrer:b,locationUtmSource:g,fbclid:w,gclid:v}=t,y=b?function(e){if(!e)return null;try{const{hostname:t}=new URL(e);return t}catch(t){return e}}(b):"",S=b&&function(e){if(!e)return null;try{const{hostname:t}=new URL(e),[n]=Object.entries(Nt).find((([e,n])=>n.some((e=>e.test(t)))));return n}catch(e){return console.warn(e),null}}(b)||g||b&&""!==b&&"others"||"",E=(t,n,o)=>{n?e.set(t,n):e.has(t)||e.append(t,o||"N/A")};return n&&e.set("q",n),E("p",o),E("article_id",i),E("author",r),E("tag",a),E("section",s),E("category",c),E("sub_category",l),E("updated_time",d),E("utm_content",u),E("utm_campaign",m),E("utm_term",p?`${f||"B"}-${p}`:f),E("utm_medium",h),E("ref",y),E("utm_source",S,"direct"),E("fbclid",w),E("gclid",v),e};function Jt(e,t){if((n=e)&&"string"==typeof n&&n.includes(Mt)){const n=new URL(e),o=new URLSearchParams(n.search),i=Gt(o,t);return`${n.origin}${n.pathname}?${i.toString()}`}var n;return e}const Ut=()=>{const e=navigator.userAgent,t=navigator.maxTouchPoints||0;return/mobile|iphone/i.test(e)?"mobile":/android/i.test(e)||/ipad/i.test(e)||/macintosh/i.test(e)&&t>0||/windows nt/i.test(e)&&(/surface/i.test(e)||/tablet/i.test(e))?"tablet":"desktop"},qt=document.documentElement;let zt=!1;const Ht=()=>qt.classList.contains("indy-ready"),Wt=e=>{zt||(zt=!0,e())},Vt=e=>{((e,t)=>{if(!e)return;let n=e.classList.toString();const o=new MutationObserver((i=>{for(const r of i)if("class"===r.attributeName){const i=e.classList.toString();if(i!==n){t(o),n=i;break}}}));o.observe(e,{attributes:!0})})(qt,(()=>{Ht()&&Wt(e)}))};var Qt={maxInProgress:5,failFast:!1,nextCheck:function(e,t){return Promise.resolve(e.amountStarted<t.length)},ignoreIsFunctionCheck:!1};function Yt(e,t){return new Promise((function(n,o){(function(e,t){return new Promise((function(n,o){var i=Object.assign({},Qt,t),r={lastCompletedIndex:-1,amountDone:0,amountStarted:0,amountResolved:0,amountRejected:0,amountNextCheckFalsey:0,rejectedIndexes:[],resolvedIndexes:[],nextCheckFalseyIndexes:[],taskResults:[]};if(0===e.length)return n(r);for(var a=!1,s=0,c=function(e,t){if(r.taskResults[t]=e,r.rejectedIndexes.push(t),r.amountRejected++,!0===i.failFast)return r.lastCompletedIndex=t,a=!0,o(r);l(t)},l=function(t){if(!0!==a){if(r.amountDone++,r.lastCompletedIndex=t,"function"==typeof i.progressCallback&&i.progressCallback(r),r.amountDone===e.length)return n(r);s<e.length&&d(s++)}},d=function(t){i.nextCheck(r,e).then((function(n){!0===n?function(t){if(r.amountStarted++,"function"==typeof e[t])try{e[t]().then((function(e){r.taskResults[t]=e,r.resolvedIndexes.push(t),r.amountResolved++,l(t)}),(function(e){c(e,t)}))}catch(e){c(e,t)}else{if(!0!==i.ignoreIsFunctionCheck)return a=!0,o(new Error("tasks["+t+"]: "+e[t]+", is supposed to be of type function"));r.taskResults[t]=e[t],r.resolvedIndexes.push(t),r.amountResolved++,l(t)}}(t):(r.amountNextCheckFalsey++,r.nextCheckFalseyIndexes.push(t),l(t))}),o)},u=0;u<Math.min(i.maxInProgress,e.length);u++)d(s++)}))})(e,t).then((function(e){n(e.taskResults)}),(function(e){e instanceof Error?o(e):o(e.taskResults[e.rejectedIndexes[0]])}))}))}function Kt(e,t){return Yt(e,Object.assign({},{failFast:!0},t))}const Zt={};let Xt;const en=()=>Date.now()-Xt,tn=e=>{const t=en();ge(`finished ${e} load @ ${t}, duration ${t-Zt[e]}`),delete Zt[e]},nn=e=>Object.keys(e).map((t=>async()=>{const n=e[t];if(n){(e=>{const t=en();Zt[e]=t,ge(`starting ${e} load @ ${t}`)})(t);try{if("function"==typeof n)await n(),tn(t);else if(await n.method(),tn(t),n.dependents){he(`${t} deps`),await Kt(nn(n.dependents)),be()}}catch(e){console.warn(`Error caught in ${t}()`),console.error(e)}}})),on=async e=>{for(let t=0;t<e.length;t++){he(`group ${t+1}`),await Kt(nn(e[t])),be()}};function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}const an=window.JSGlobals,sn=an.domain,cn="independent.co.uk"===sn,ln=sn===i,dn=re(),un=an.hasTaboola,mn=window.location.pathname,pn=[{taboola:un&&(async()=>{if(!window.JSGlobals.taboola)return;Ot.map((e=>document.getElementById(e.container))).length&&((()=>{const e=Tt();localStorage.setItem("subscription-cause",e)})(),await(async()=>{await Lt(),It()})())}),initComments:an.userComments&&!dn&&qe},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(e=>{const t=window.JSGlobals.domain===i,n=[!!window.JSGlobals.isLiveBlog,e.startsWith(W[u]),re()].some(Boolean);return[ie(),!t,n].every(Boolean)})(mn)&&{initBrazeInAppMessageWithDelay:_e}),{polar:!ln&&(()=>{St(),window.addEventListener("resize",Ye(St,500))}),parallax:Ve,redditEmbed:Et,tiktokEmbed:Dt,instagramEmbed:We,facebookSDK:ze,twitterWidgets:Ft,persistentPlayer:()=>{const e="true"===ke("subscriber"),t=document.querySelector(".article-liveblog");if(e&&t){let e;const t=function(){window.matchMedia("(min-width: 1000px)").matches?e=(()=>{const e=document.querySelector(".video-hero-wrapper"),t="sticky-video";let n;const o=()=>{window.matchMedia("(min-width: 930px)").matches&&(n=new IntersectionObserver((e=>{e.forEach((e=>{e.intersectionRatio<.5&&e.boundingClientRect.top<0?e.target.classList.add(t):e.target.classList.remove(t)}))}),{threshold:.5}),n.observe(e))};return window.addEventListener("orientationchange",o),{dispose(){n&&n.unobserve(e),window.removeEventListener("orientationchange",o)}}})():e&&e.dispose()};window.addEventListener("orientationchange",t),window.addEventListener("resize",Qe(t,100)),t()}else(()=>{var e;const t=document.querySelector(".video-top-container.video"),n=document.querySelector(".video-hero-wrapper"),o=document.querySelector("#video-popout-close"),i=null===(e=document.getElementById("video_holder"))||void 0===e||null===(e=e.firstElementChild)||void 0===e||null===(e=e.firstElementChild)||void 0===e?void 0:e.id;let r=2e4;(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<620&&(r=1e4);const a="sticky",s=new IntersectionObserver((e=>{e.forEach((e=>{e.intersectionRatio<.5&&e.boundingClientRect.top<0?(n.style.height=`${n.clientHeight}px`,e.target.classList.add(a)):(n.style.height=null,e.target.classList.remove(a))}))}),{threshold:.5});s.observe(t),o&&(o.addEventListener("click",(()=>{t.classList.add("closed")})),o.classList.contains("sensitive")?o.classList.add("shown"):setTimeout((()=>{o.classList.add("shown")}),r)),"undefined"!=typeof jwplayer&&i&&(jwplayer(i).on("autostartNotAllowed",(({error:e,reason:t,type:n})=>{ge("jwplayer autostartNotAllowed",e,t,n)})),jwplayer(i).on("error",(({code:e,message:t,sourceError:n,type:o})=>{ge("jwplayer error",e,t,n,o)})),jwplayer(i).on("warning",(({code:e,message:t,sourceError:n,type:o})=>{ge("jwplayer warning",e,t,n,o)})))})()}},{heyFlow:cn&&(e=>{var t,n,o,i;if(!e)return console.warn("Invalid article object."),!1;const a=null!==(t=null===(n=e.sections)||void 0===n?void 0:n.includes(r))&&void 0!==t&&t,s=null!==(o=null===(i=e.hierarchy)||void 0===i?void 0:i.some((({path:e})=>e.startsWith(G))))&&void 0!==o&&o;return a||s})(an.article)&&He},{trackonomicsAffiliateLinks:()=>{const e=document.querySelectorAll(`a[href^="${Mt}"]`),t=document.referrer||null,n=new URLSearchParams(window.location.search).get("utm_source");null==e||e.forEach((e=>{const o=Jt(e.getAttribute("href"),{locationUserAgent:Ut(),locationReferrer:t,locationUtmSource:n});e.setAttribute("href",o)}))},trackonomics:()=>{var e,t;const n=null===(e=JSGlobals)||void 0===e?void 0:e.article,o=null===(t=JSGlobals)||void 0===t||null===(t=t.trackonomics)||void 0===t?void 0:t.customerId;if(n&&o){const e=`https://cdn-magiclinks.trackonomics.net/client/static/v2/${o}.js`,t=[["id","funnel-relay-installer"],["data-property-id","PROPERTY_ID"],["data-customer-id",o]];try{ye(e,{attributes:t,defer:!0})}catch(e){console.error("Failed to load the Trackonomics script:",e)}}}}];var fn;fn=async()=>await on(pn),Ht()?fn():(Vt(fn),(e=>{setTimeout((()=>Wt(e)),3e3)})(fn))})()})();