YUI.add("flickr-photosets-editMeta-updater",(function(e,t){"use strict";var o=require("hermes-core/flog")(t);e.namespace("ModelUpdaters")["flickr-photosets-editMeta"]={run:function(o,s){var r={},i=this;return r.photoset_id=o.photosetId,r.title=o.title,r.description=o.description,o.includeHiddenSets&&(r.extras="hidden_sets"),e.Promise.all([s.callAPI("flickr.photosets.editMeta",r),s.getModelRegistry("set-models")]).then((function(e){i._processResponse(e,o,s)}),e.FetcherErrorLogger(t))},_processResponse:function(e,t,s){var r=e[0],i=e[1];if(r.photoset&&r.photoset.title&&r.photoset.description){if(!i.exists(t.photosetId))throw new Error("[flickr-photosets-editMeta-updater] - Set model cannot be updated if it does not exist");i.setValues(t.photosetId,{title:r.photoset.title.content,description:r.photoset.description.content})}else o.warn("No updated data returned from API.")}}}),"@VERSION@",{requires:["flickr-promise"],optionalRequires:["hermes-core"]});YUI.add("flickr-photosets-setPrimaryPhoto-updater",(function(r,t){"use strict";r.namespace("ModelUpdaters")["flickr-photosets-setPrimaryPhoto"]={run:function(o,e){var s={};return s.photoset_id=o.albumId,s.photo_id=o.photoId,e.callAPI("flickr.photosets.setPrimaryPhoto",s).then(null,r.FetcherErrorLogger(t))}}}),"@VERSION@",{requires:["flickr-promise"]});YUI.add("set-models",(function(t,e){var o=require("hermes-core/flog")(e);function r(t){r.superclass.constructor.call(this,t)}t.Models[this.name]=r,t.extend(r,t.FlickrModelRegistry,{langBundles:this.details.langBundles,name:this.name,remote:{read:function(e){return t.ListFetchers["flickr-photosets-getPhotos"].run(e,this.appContext)},create:function(e,o){return t.ModelCreators["flickr-photosets-create"].run(e,o)},createHidden:function(e,o){return t.ModelCreators["flickr-photosets-createHidden"].run(e,o)},addPhoto:function(e,o){return t.ModelCreators["flickr-photosets-addPhoto"].run(e,o)},removePhoto:function(e,o){return t.ModelCreators["flickr-photosets-removePhoto"].run(e,o)},update:function(e,o){var r=[];return"primary"in o&&(this.hasPhoto(e,o.primary.newVal)?r.push(t.ModelUpdaters["flickr-photosets-setPrimaryPhoto"].run({photoId:o.primary.newVal,albumId:e},this.appContext)):r.push(t.ModelCreators["flickr-photosets-addPhoto"].run({setID:e,photoID:o.primary.newVal},this.appContext).then((()=>t.ModelUpdaters["flickr-photosets-setPrimaryPhoto"].run({photoId:o.primary.newVal,albumId:e},this.appContext))))),r.push(t.ModelUpdaters["flickr-photosets-editMeta"].run({photosetId:e,title:o.title?o.title.newVal:this.getValue(e,"title"),description:o.description?o.description.newVal:this.getValue(e,"description")},this.appContext)),t.Promise.all(r)},setPrimaryPhoto:function(e,o){return t.ModelUpdaters["flickr-photosets-setPrimaryPhoto"].run(e,o)},delete:function(e){"string"==typeof e&&(e={setID:e});return t.ModelDeletors["flickr-photosets-delete-deletor"].run(e,this.appContext)}},addPhoto:function(t,e){return this.getValue(t,"photoPageList").hasMaxBoundary()&&this.getValue(t,"photoPageList").appendToList(e),this.getValue(t,"photoContextList").hasMaxBoundary()&&this.getValue(t,"photoContextList").appendToList(e),this},removePhoto:function(t,e){return this.getValue(t,"photoPageList").removeFromList(e.getValue("id")),this.getValue(t,"photoContextList").removeFromList(e.getValue("id")),this},removePhotoRemote:function(t,e){return this.remote.removePhoto({setID:t,photoID:e},this.appContext)},hasPhoto:function(t,e){return this.getValue(t,"photoPageList").getFromListByID(e)||this.getValue(t,"photoContextList").getFromListByID(e)},getSizeToFit:function(e,r,i){o.info("Using `getSizeToFit` is deprecated. See model comments for more details.");var n=t.PhotoModelHelper.getSizeToFit(e,r,t.merge({sizes:this.getValue(e,"primaryPhotoSizes"),includeSquare:!0,cropToFit:!0},i));return n&&(n.url=n.src),n},getLargestPrimaryPhotoSize:function(e,o){return t.PhotoModelHelper.getLargestSize(e,o)},attributes:{normalizedId:{readOnly:!0,defaultFn:function(t){return t.split("-")[0]}},displayType:{readOnly:!0,defaultFn:function(){return"set"}},title:{validator:function(e,o){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)},defaultValue:""},description:{validator:function(e,o){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)},defaultValue:""},owner:{isModel:!0},isOwner:t.PhotoModelHelper.attributes.isOwner,photoPageList:{isCollection:!0,pageFetch:{listFetcher:t.ListFetchers["flickr-photosets-getPhotos"]}},photoContextList:{isListProxy:!0,contextFetch:{listFetcher:t.ListFetchers["flickr-photosets-getContext"],listItemIdField:"photoId"}},photoCount:{validator:function(e){return t.AttributeHelpers.validateInteger(e)},setter:function(e){return t.AttributeHelpers.coerceInteger(e)}},videoCount:{validator:function(e){return t.AttributeHelpers.validateInteger(e)},setter:function(e){return t.AttributeHelpers.coerceInteger(e)}},publicPhotosCount:{validator:function(e){return t.AttributeHelpers.validateInteger(e)},setter:function(e){return t.AttributeHelpers.coerceInteger(e)}},totalCount:{readOnly:!0,derivedBy:["photoCount","videoCount"],defaultFn:function(t){return this.getValue(t,"photoCount")+this.getValue(t,"videoCount")}},viewCount:{validator:function(e){return t.AttributeHelpers.validateInteger(e)},setter:function(e){return t.AttributeHelpers.coerceInteger(e)}},photoCountDisplay:{readOnly:!0,derivedBy:["totalCount"],defaultFn:function(t){var e=this.getValue(t,"totalCount"),o="";return 0===e?o=this.intlMessage({intlName:"models.ZERO_ITEMS"}):1===e?o=this.intlMessage({intlName:"models.ONE_ITEM"}):e>1&&(o=this.intlMessage({intlName:"models.MULTIPLE_ITEMS",items:e})),o}},photoAndVideosDisplay:{readOnly:!0,derivedBy:["photoCount","videoCount"],defaultFn:function(t){var e=this.getValue(t,"photoCount"),o=this.getValue(t,"videoCount"),r="";return 0===e&&0===o?r=this.intlMessage({intlName:"models.ZERO_PHOTOS"}):1===e&&0===o?r=this.intlMessage({intlName:"models.ONE_PHOTO"}):e>1&&0===o?r=this.intlMessage({intlName:"models.MULTIPLE_PHOTOS",photos:e}):0===e&&1===o?r=this.intlMessage({intlName:"models.ONE_VIDEO"}):1===e&&1===o?r=this.intlMessage({intlName:"models.ONE_PHOTO_AND_ONE_VIDEO"}):e>1&&1===o?r=this.intlMessage({intlName:"models.MULTIPLE_PHOTOS_AND_ONE_VIDEO",photos:e}):0===e&&o>1?r=this.intlMessage({intlName:"models.MULTIPLE_VIDEOS",videos:o}):1===e&&o>1?r=this.intlMessage({intlName:"models.ONE_PHOTO_AND_MULTIPLE_VIDEOS",videos:o}):e>1&&o>1&&(r=this.intlMessage({intlName:"models.MULTIPLE_PHOTOS_AND_MULTIPLE_VIDEOS",photos:e,videos:o})),r}},sharedEntityDisplay:{readOnly:!0,derivedBy:["videoCount","photoCount","owner"],defaultFn:function(t){var e=this.getValue(t,"photoCount"),o=this.getValue(t,"videoCount"),r=this.getValue(t,"owner"),i="";return e&&!o?i=this.intlMessage({intlName:"shared-entity.USERNAME_HAS_SHARED_PHOTOS_ONLY",username:r.getValue("displayname"),photoCount:parseInt(e,10)}):!e&&o?i=this.intlMessage({intlName:"shared-entity.USERNAME_HAS_SHARED_VIDEOS_ONLY",username:r.getValue("displayname"),videoCount:parseInt(o,10)}):e&&o&&(i=this.intlMessage({intlName:"shared-entity.USERNAME_HAS_SHARED_PHOTOS_VIDEOS",username:r.getValue("displayname"),photoCount:parseInt(e,10),videoCount:parseInt(o,10)})),i}},primary:{},primaryPhotoSizes:{},primaryNeedsInterstitial:{},bestIconURL:{readOnly:!0,derivedBy:["primaryPhotoSizes"],defaultFn:function(e){var o=t.PhotoModelHelper.getSizeToFit(e,{height:75,width:75},t.merge({sizes:this.getValue(e,"primaryPhotoSizes"),includeSquare:!0,cropToFit:!0}));return o?o.src:""}},url:{readOnly:!0,derivedBy:["owner","normalizedId"],defaultFn:function(t){var e=this.getValue(t,"owner"),o=this.getValue(t,"isSharedEntity"),r=this.getValue(t,"normalizedId");return e&&!0===o?"/photos/"+e.getValue("pathAlias")+"/shares/"+r:e?"/photos/"+e.getValue("pathAlias")+"/albums/"+r:void 0}},isAutoUploadSet:{validator:function(e){return t.AttributeHelpers.validateBoolean(e)},setter:function(e){return t.AttributeHelpers.coerceBoolean(e)},defaultValue:!1},isSharedEntity:{validator:function(e){return t.AttributeHelpers.validateBoolean(e)},setter:function(e){return t.AttributeHelpers.coerceBoolean(e)},defaultValue:!1},canShare:{validator:function(e){return t.AttributeHelpers.validateInteger(e)},setter:function(e){return t.AttributeHelpers.coerceInteger(e)},defaultValue:0},canDownload:{validator:function(e){return t.AttributeHelpers.validateBoolean(e)},setter:function(e){return t.AttributeHelpers.coerceBoolean(e)},defaultValue:!1},urlSuffix:{readOnly:!0,defaultFn:function(t){return this.getValue(t,"isSharedEntity")?"shares-"+t:"album-"+t}},gpCode:{defaultFn:function(t){return null}},gpOwner:{defaultFn:function(t){return null}},sortType:{validator:function(e,o){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)},defaultValue:""}}},{buildCompoundId:function(t,e,o){var r=t;return e&&(r+="-"+e),o&&(e||(r+="-dateposted"),r+="-"+o),r},splitCompoundId:function(t){var e=t.split("-");return{nsid:e[0],orderBy:e[1],viewAs:e[2]}}})}),"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-photosets-addPhoto-creator","flickr-photosets-removePhoto-deletor","flickr-photosets-delete-deletor","flickr-photosets-getPhotos-fetcher","flickr-photosets-getContext-fetcher","flickr-photosets-create-creator","flickr-photosets-createHidden-creator","flickr-photosets-editMeta-updater","flickr-photosets-setPrimaryPhoto-updater","photo-model-helper"],optionalRequires:["hermes-core"],langBundles:["models","shared-entity"]});YUI.add("photo-groups-models",(function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-photos-getAllContexts"].run(t,this.appContext)}},attributes:{id:{},groups:{isCollection:!0},total:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0}}})}),"@VERSION@",{requires:["api-helper","flickr-model-registry","flickr-promise","flickr-photos-getAllContexts-fetcher"]});YUI.add("flickr-photos-getAllContexts-fetcher",(function(e,t){"use strict";e.namespace("ModelFetchers")["flickr-photos-getAllContexts"]={run:function(o,s){var l=this;return s.flipper.isFlipped("enable-scrappy-photo-page")&&(o.scrappy=!0),e.Promise.all([s.callAPI("flickr.photos.getAllContexts",this._processParams(o),!0),s.getModelRegistry("person-models"),s.getModelRegistry("photo-contexts-models"),s.getModelRegistry("favorite-models"),s.getModelRegistry("gallery-models"),s.getModelRegistry("group-pool-models"),s.getModelRegistry("set-models"),s.getModelRegistry("photostream-models"),s.getModelRegistry("photo-groups-models"),s.getModelRegistry("photo-sets-models"),s.getModelRegistry("photo-galleries-models"),s.getModelRegistry("group-models")]).then((function(e){return l._processResponse(e,o)}),e.FetcherErrorLogger(t))},_processParams:function(t){var o;return o={photo_id:t.id,extras:e.APIHelper.request.getRebootPhotoExtras()+","+e.APIHelper.request.getRebootGroupExtras()+","+e.APIHelper.request.getRebootAlbumsListExtras(),primary_photo_extras:"url_sq, url_t, url_s, url_m, needs_interstitial"},t.scrappy&&(o.get_all_galleries=1,o.no_faves_context=1,o.per_type_limit=6,o.get_totals=1,o.sort="date-desc"),o},_processResponse:function(t,o){var s,l,r=t[0],a=t[1],p=t[2],d={},i=[],g=t[8],n=t[9],u=t[10],m=t[11];return d.faves=t[3],d.gallery=t[4],d.pool=t[5],d.set=t[6],d.stream=t[7],e.Object.each(d,(function(t,o){r[o]&&e.Array.each(r[o],(function(o){e.APIHelper.response.addContextToRegistry(o,t,a,m),i.push(t.proxy(o.id))}))})),p.exists(o.id)||(s=p.add({id:o.id,totalGroups:r.totals&&r.totals.groups,totalSets:r.totals&&r.totals.sets,totalGalleries:r.totals&&r.totals.galleries}),p.setValue(o.id,"contexts",i)),g.addOrUpdate({id:o.id,total:r.totals&&r.totals.groups,groups:p.getContextsOfType(o.id,"group-pool-models")}),(l=p.getContextsOfType(o.id,"set-models")).forEach((function(e){e.setValue("totalCount",parseInt(e.getValue("photoCount"),10)+parseInt(e.getValue("videoCount"),10))})),n.addOrUpdate({id:o.id,total:r.totals&&r.totals.sets,sets:l}),u.addOrUpdate({id:o.id,total:r.totals&&r.totals.galleries,galleries:p.getContextsOfType(o.id,"gallery-models")}),s}}}),"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["photo-contexts-models","favorite-models","gallery-models","group-pool-models","photostream-models","set-models","photo-groups-models","photo-sets-models","photo-galleries-models","group-models"]});YUI.add("photo-contexts-models",(function(e){function t(e){t.superclass.constructor.call(this,e),this.getMorePromises={"group-pool-models":{},"set-models":{},"gallery-models":{}},this.continuationKeys={"group-pool-models":{},"set-models":{},"gallery-models":{}}}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return this.appContext.flipper.isFlipped("enable-scrappy-photo-page")?e.ModelFetchers["flickr-photos-getAllContexts"].run(t,this.appContext):e.ModelFetchers["flickr-photos-getInfo"].run(t,this.appContext)}},getMoreContextsOfType:function(t,r,o){var s,n,i,l,a,p,u,c=this,g="-1",d=e.APIHelper.request.getRebootPhotoExtras();switch(r){case"group-pool-models":s="flickr.photos.getGroups",i="groups.group",d+=","+e.APIHelper.request.getRebootGroupExtras();break;case"set-models":s="flickr.photos.getSets",i="sets.set";break;case"gallery-models":s="flickr.photos.getGalleries",i="galleries.gallery"}return s?this.exists(t)?(l=this.continuationKeys[r][t]||"0")===g?e.Promise.resolve({type:r,newContexts:[],loadedAll:!0}):(n={photo_id:t,extras:d,primary_photo_extras:"url_sq, url_t, url_s, url_m",continuation:l,per_page:o},p=t+"_"+l,(u=this.getMorePromises[r][p])?u:(this.getMorePromises[r][p]=new e.FlickrPromise({apiResponse:this.appContext.callAPI(s,n,!0),contextRegistry:this.appContext.getModelRegistry(r),personRegistry:this.appContext.getModelRegistry("person-models")}).then((function(o){var s,n,l,u=[],d=o.apiResponse,f=o.contextRegistry,h=o.personRegistry;return(n=i.split(".").reduce((function(t,r){return e.Lang.isObject(t)?t[r]:void 0}),d))&&(e.Array.each(n,(function(t){e.APIHelper.response.addContextToRegistry(t,f,h),u.push(f.proxy(t.id))})),u.length&&(l=c.getContextsOfType(t,r).map((function(e){return e.getValue("id")})),(u=u.filter((function(e){return-1===l.indexOf(e.getValue("id"))}))).length&&c.getValue(t,"contexts").appendToListMulti(u))),void 0===(a=d.continuation)?a=g:e.Lang.isNumber(a)&&(a+=""),s=a===g,c.continuationKeys[r][t]=a,delete c.getMorePromises[r][p],{type:r,newContexts:u,loadedAll:s}})),this.getMorePromises[r][p])):e.Promise.reject("[photo-contexts-models] getMoreContextsOfType was called for an ID that isn't in the registry: "+t):e.Promise.reject("[photo-contexts-models] getMoreContextsOfType was called without an invalid type: "+r)},getContextsOfType:function(t,r){return r=e.Array(r),this.getValue(t,"contexts").getList().filter((function(e){return r.indexOf(e.registry.name)>-1}))},getContextsNotOfType:function(t,r){return r=e.Array(r),this.getValue(t,"contexts").getList().filter((function(e){return-1===r.indexOf(e.registry.name)}))},attributes:{contexts:{isCollection:!0},totalGroups:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0},totalSets:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0},totalGalleries:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0}}})}),"@VERSION@",{requires:["api-helper","flickr-model-registry","flickr-promise","flickr-photos-getInfo-fetcher","flickr-photos-getAllContexts-fetcher"]});YUI.add("vr-overlay-view",(function(e,t){var i,o=require("hermes-core/flog")(t);i={css:{destinationContainer:"body",closeX:".close"},options:{}},e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){return this.photoId=e.photoId,this.nsid=e.nsid,""===this.get("container").get("innerHTML")&&this.setContainerHTML(""),this.immersed=!1,this},subviewConfig:{},loadState:function(){var e=this;return this.appContext.getModel("photo-models",e.photoId).then((function(t){return e.set("photo",t),e.canVr().then((function(t){e.set("canVr",t)}))}))},buildContainer:function(){var e=this.get("canVr");return this.set("isActiveViewAgnostic",!0),e?(this.setContainerWithTemplate("vr-overlay"),this):this},buildErrorContainer:function(){this.setContainerHTML("")},activate:function(){var t=this;if(this.get("canVr"))return this.loadFlickvr().then((function(){var o=t.get("container");o.addClass("active"),o.one(i.css.closeX)&&t.registerEventHandler(o.one(i.css.closeX).on("click",e.bind(t.closeVr,t))),t.registerEventHandler(t.get("container").on("click",t.openVr,t)),t.isMobile||t.openVr()})).then(null,(function(e){o.error("Failed to load flickvr from CDN",{err:e})})),this},loadFlickvr:function(){return new e.Promise((function(t,i){if(window.Flickvr)return t();e.Get.js("https://combo.staticflickr.com/ap/flickvr/version.js",(function(n){return n?i():window.FlickvrVersion?void e.Get.js("https://combo.staticflickr.com/ap/flickvr/"+window.FlickvrVersion+".js",(function(e){return e?i():(o.log("flickvr loaded successfully from CDN"),t())})):i()}))}))},hasEquirectangularTag:function(){return this.appContext.getModel("photo-tags-models",this.photoId).then((function(e){var t=!1;return e.toJSON().tags.forEach((function(e){"equirectangular"===e.tagRaw.toLowerCase()&&(t=!0)})),t}))},inEquirectangularGroup:function(){return this.appContext.getModel("photo-groups-models",this.photoId).then((function(e){var t=!1;return e.toJSON().groups.forEach((function(e){"44671723@N00"===e.id&&(t=!0)})),t}))},canVr:function(){var t,i,o=this,n=!1;return o.appContext.flipper.isFlipped("enable-vr")?((t=o.get("photo"))&&(i=t.getValue("aspectRatio"))&&i>=1.99&&i<=2.01&&(n=!0),n?e.Promise.all([o.appContext.callAPI("flickr.vr.isEquirectangular",{photo_id:t.id})]).then((function(t){return e.Promise.resolve(!!t[0].is_equirectangular)})):e.Promise.resolve(!1)):e.Promise.resolve(!1)},onParentViewEvent:function(e,t){if(t&&t[0])switch(t[0]){case"vrIconClicked":this.openVr();break;case"vKeyPressed":this.toggleVr()}},toggleVr:function(){this.immersed?this.closeVr():this.openVr()},openVr:function(t){if(this.immersed||t&&t.target.hasClass("close"))this.vr.controls&&this.vr.controls.autoRotate&&(this.vr.controls.autoRotate=!1);else{var i,o,n=this,r=this.get("photo").getLargestSize(),s=this.templates("flickr-balls")({}),a=new Image;t&&t.halt(),(o=e.Node.create("<div></div>")).addClass("vr-loading-layer"),o.addClass("fluid"),o.append(s),n.get("container").append(o),i=r.displayUrl,a.crossOrigin="anonymous",a.onload=function(){n.immersed=!0,n.vr=new window.Flickvr,n.vr.initialize(i,{container:n.get("container").getDOMNode(),useContainerDimensions:!n.isMobile,enableVrHeadset:n.appContext.flipper.isFlipped("enable-vr-headset"),autoRotate:!n.isMobile}).then((function(t){e.fire("photo:entering-vr"),t.style.position="absolute",n.vr.enterVR(),n.get("container").one(".vr-loading-layer").remove(),n.get("container").addClass("immersed"),n.escHandle=n.attachKeyEvent("down:27",e.betterThrottle(n.closeVr.bind(n),100))}))},a.src=i}},closeVr:function(e){var t=this.get("container");e&&e.preventDefault(),this.vr&&this.vr.destroy(),this.escHandle&&(this.detachRegisteredEvent(this.escHandle),delete this.escHandle),this.immersed=!1,t.removeClass("immersed")},beforeDestroy:function(){this.set("lastContainer",this.get("container")),this.immersed&&this.closeVr()},destructor:function(){var e=this.get("lastContainer");e&&(e.remove(!0),this.set("lastContainer",null))}})}),"@VERSION@",{requires:["flickr-view","better-throttle","get","hermes-template-vr-overlay","hermes-template-flickr-balls"],optionalRequires:["hermes-core"],optional:["photo-models","photo-tags-models","photo-groups-models"],langBundles:["common","photo-page-scrappy"]});YUI.add("hermes-template-zoom-modal",(function(l,n){var e=l.Template.Handlebars.revive({1:function(l,n,e,r,a){var o,t=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'<img src="'+l.escapeExpression("function"==typeof(o=null!=(o=t(e,"smallSrc")||(null!=n?t(n,"smallSrc"):n))?o:l.hooks.helperMissing)?o.call(null!=n?n:l.nullContext||{},{name:"smallSrc",hash:{},data:a,loc:{start:{line:3,column:28},end:{line:3,column:40}}}):o)+'" class="zoom-small">'},3:function(l,n,e,r,a){var o,t=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'<img src="'+l.escapeExpression("function"==typeof(o=null!=(o=t(e,"largeSrc")||(null!=n?t(n,"largeSrc"):n))?o:l.hooks.helperMissing)?o.call(null!=n?n:l.nullContext||{},{name:"largeSrc",hash:{},data:a,loc:{start:{line:4,column:28},end:{line:4,column:40}}}):o)+'" class="zoom-large">'},5:function(l,n,e,r,a){var o,t=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'<img src="'+l.escapeExpression("function"==typeof(o=null!=(o=t(e,"xLargeSrc")||(null!=n?t(n,"xLargeSrc"):n))?o:l.hooks.helperMissing)?o.call(null!=n?n:l.nullContext||{},{name:"xLargeSrc",hash:{},data:a,loc:{start:{line:5,column:29},end:{line:5,column:42}}}):o)+'" class="zoom-xlarge">'},compiler:[8,">= 4.3.0"],main:function(l,n,e,r,a){var o,t=null!=n?n:l.nullContext||{},c=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'<div class="zoom-modal hidden">\n\t<div class="zoom-photo-container">\n\t\t'+(null!=(o=c(e,"if").call(t,null!=n?c(n,"smallSrc"):n,{name:"if",hash:{},fn:l.program(1,a,0),inverse:l.noop,data:a,loc:{start:{line:3,column:2},end:{line:3,column:68}}}))?o:"")+"\n\t\t"+(null!=(o=c(e,"if").call(t,null!=n?c(n,"largeSrc"):n,{name:"if",hash:{},fn:l.program(3,a,0),inverse:l.noop,data:a,loc:{start:{line:4,column:2},end:{line:4,column:68}}}))?o:"")+"\n\t\t"+(null!=(o=c(e,"if").call(t,null!=n?c(n,"xLargeSrc"):n,{name:"if",hash:{},fn:l.program(5,a,0),inverse:l.noop,data:a,loc:{start:{line:5,column:2},end:{line:5,column:71}}}))?o:"")+'\n\t\t<span class="facade-of-protection-zoom"></span>\n\t</div>\n</div>\n'},useData:!0}),r={};l.Array.each([],(function(n){var e=l.Template.get("hermes/"+n);e&&(r[n]=e)})),l.Template.register("hermes/zoom-modal",(function(n,a){return(a=a||{}).partials=a.partials?l.merge(r,a.partials):r,e(n,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});